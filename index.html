<script>
    $(document).ready(function() {
        // Fetch orders
        $.ajax({
            url: '/get_orders',
            type: 'GET',
            success: function(response) {
                let orderTable = '<table><tr><th>ID</th><th>Item</th><th>Quantity</th><th>Price</th></tr>';
                response.orders.forEach(function(order) {
                    orderTable += `<tr>
                        <td>${order.id}</td>
                        <td>${order.item}</td>
                        <td>${order.quantity}</td>
                        <td>${order.price}</td>
                    </tr>`;
                });
                orderTable += '</table>';
                $('#order-details').html(orderTable);
                $('#total-price').text('Total Price: ' + response.total_price);
            }
        });

        // Initiate payment
        $('#pay-button').on('click', function() {
            $.ajax({
                url: '/initiate_payment',
                type: 'POST',
                success: function(response) {
                    alert(response.status);
                }
            });
        });
    });
</script>

<!-- Add these elements to display order details and total price -->
<div id="order-details"></div>
<p id="total-price"></p>
<button id="pay-button">Initiate Payment</button>
